{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{createModel}from\"@rematch/core\";export var search=createModel()({state:{searchMoviesText:\"\",searchMoviesData:[],searchSeriesText:\"\",searchSeriesData:[],masterDetailData:{}},reducers:{searchMoviesText:function searchMoviesText(state,_searchMoviesText){return _objectSpread(_objectSpread({},state),{},{searchMoviesText:_searchMoviesText});},searchMoviesData:function searchMoviesData(state,payload){return _objectSpread(_objectSpread({},state),payload);},searchSeriesText:function searchSeriesText(state,_searchSeriesText){return _objectSpread(_objectSpread({},state),{},{searchSeriesText:_searchSeriesText});},searchSeriesData:function searchSeriesData(state,payload){return _objectSpread(_objectSpread({},state),payload);},masterDetailData:function masterDetailData(state,payload){return _objectSpread(_objectSpread({},state),payload);}},effects:function effects(dispatch){return{searchSeriesAsync:function searchSeriesAsync(payload,state){var response;return _regeneratorRuntime.async(function searchSeriesAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch(\"https://www.omdbapi.com/?apikey=597bf54e&s=\"+payload+\"&type=series\").then(function(response){return response.json();}).then(function(responseJson){dispatch.search.searchSeriesData({searchSeriesData:responseJson});}).catch(function(error){alert(\"error!\");}));case 2:response=_context.sent;case 3:case\"end\":return _context.stop();}}},null,null,null,Promise);},searchMoviesAsync:function searchMoviesAsync(payload,state){var response;return _regeneratorRuntime.async(function searchMoviesAsync$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(fetch(\"https://www.omdbapi.com/?apikey=597bf54e&s=\"+payload+\"&type=movie\").then(function(response){return response.json();}).then(function(responseJson){dispatch.search.searchMoviesData({searchMoviesData:responseJson});}).catch(function(error){alert(\"error!\");}));case 2:response=_context2.sent;case 3:case\"end\":return _context2.stop();}}},null,null,null,Promise);},masterDetailAsync:function masterDetailAsync(payload,state){var response;return _regeneratorRuntime.async(function masterDetailAsync$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(fetch(\"https://www.omdbapi.com/?apikey=597bf54e&i=\"+payload+\"&plot=full\").then(function(response){return response.json();}).then(function(responseJson){console.log(\"responseJson\",responseJson);dispatch.search.masterDetailData({masterDetailData:responseJson});}).catch(function(error){alert(\"error!\");}));case 2:response=_context3.sent;case 3:case\"end\":return _context3.stop();}}},null,null,null,Promise);}};}});","map":{"version":3,"names":["createModel","search","state","searchMoviesText","searchMoviesData","searchSeriesText","searchSeriesData","masterDetailData","reducers","payload","effects","dispatch","searchSeriesAsync","fetch","then","response","json","responseJson","catch","error","alert","searchMoviesAsync","masterDetailAsync","console","log"],"sources":["/Users/michaeladmin/Documents/GitHub/vidnation/store/search.ts"],"sourcesContent":["import { createModel, Reducer } from \"@rematch/core\";\nimport { RootModel } from \"./models\";\n\nexport const search = createModel<RootModel>()({\n  state: {\n    searchMoviesText: \"\",\n    searchMoviesData: [],\n    searchSeriesText: \"\",\n    searchSeriesData: [],\n    masterDetailData: {},\n  },\n  reducers: {\n    searchMoviesText(state, searchMoviesText: string) {\n      return {\n        ...state,\n        searchMoviesText,\n      };\n    },\n    searchMoviesData(state, payload: Object) {\n      return { ...state, ...payload };\n    },\n    searchSeriesText(state, searchSeriesText: string) {\n      return {\n        ...state,\n        searchSeriesText,\n      };\n    },\n    searchSeriesData(state, payload: Object) {\n      return { ...state, ...payload };\n    },\n    masterDetailData(state, payload: Object) {\n      return { ...state, ...payload };\n    },\n  },\n  effects: (dispatch) => ({\n    async searchSeriesAsync(payload: string, state) {\n      const response = await fetch(\n        `https://www.omdbapi.com/?apikey=597bf54e&s=${payload}&type=series`\n      )\n        .then((response) => response.json())\n        .then((responseJson) => {\n          dispatch.search.searchSeriesData({ searchSeriesData: responseJson });\n        })\n        .catch((error) => {\n          alert(\"error!\");\n        });\n    },\n    async searchMoviesAsync(payload: string, state) {\n      const response = await fetch(\n        `https://www.omdbapi.com/?apikey=597bf54e&s=${payload}&type=movie`\n      )\n        .then((response) => response.json())\n        .then((responseJson) => {\n          dispatch.search.searchMoviesData({ searchMoviesData: responseJson });\n        })\n        .catch((error) => {\n          alert(\"error!\");\n        });\n    },\n    async masterDetailAsync(payload: string, state) {\n      const response = await fetch(\n        `https://www.omdbapi.com/?apikey=597bf54e&i=${payload}&plot=full`\n      )\n        .then((response) => response.json())\n        .then((responseJson) => {\n          console.log(\"responseJson\", responseJson);\n          dispatch.search.masterDetailData({ masterDetailData: responseJson });\n        })\n        .catch((error) => {\n          alert(\"error!\");\n        });\n    },\n  }),\n});\n"],"mappings":"o4BAAA,OAASA,WAAW,KAAiB,eAAe,CAGpD,MAAO,IAAMC,OAAM,CAAGD,WAAW,EAAa,CAAC,CAC7CE,KAAK,CAAE,CACLC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,EAAE,CACpBC,gBAAgB,CAAE,CAAC,CACrB,CAAC,CACDC,QAAQ,CAAE,CACRL,gBAAgB,2BAACD,KAAK,CAAEC,iBAAwB,CAAE,CAChD,sCACKD,KAAK,MACRC,gBAAgB,CAAhBA,iBAAgB,GAEpB,CAAC,CACDC,gBAAgB,2BAACF,KAAK,CAAEO,OAAe,CAAE,CACvC,sCAAYP,KAAK,EAAKO,OAAO,EAC/B,CAAC,CACDJ,gBAAgB,2BAACH,KAAK,CAAEG,iBAAwB,CAAE,CAChD,sCACKH,KAAK,MACRG,gBAAgB,CAAhBA,iBAAgB,GAEpB,CAAC,CACDC,gBAAgB,2BAACJ,KAAK,CAAEO,OAAe,CAAE,CACvC,sCAAYP,KAAK,EAAKO,OAAO,EAC/B,CAAC,CACDF,gBAAgB,2BAACL,KAAK,CAAEO,OAAe,CAAE,CACvC,sCAAYP,KAAK,EAAKO,OAAO,EAC/B,CACF,CAAC,CACDC,OAAO,CAAE,iBAACC,QAAQ,QAAM,CAChBC,iBAAiB,4BAACH,OAAe,CAAEP,KAAK,2LACrBW,KAAK,+CACoBJ,OAAO,gBACtD,CACEK,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,YAAY,CAAK,CACtBN,QAAQ,CAACV,MAAM,CAACK,gBAAgB,CAAC,CAAEA,gBAAgB,CAAEW,YAAa,CAAC,CAAC,CACtE,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC,CAAC,SATEL,QAAQ,qFAWVM,iBAAiB,4BAACZ,OAAe,CAAEP,KAAK,+LACrBW,KAAK,+CACoBJ,OAAO,eACtD,CACEK,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,YAAY,CAAK,CACtBN,QAAQ,CAACV,MAAM,CAACG,gBAAgB,CAAC,CAAEA,gBAAgB,CAAEa,YAAa,CAAC,CAAC,CACtE,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC,CAAC,SATEL,QAAQ,uFAWVO,iBAAiB,4BAACb,OAAe,CAAEP,KAAK,+LACrBW,KAAK,+CACoBJ,OAAO,cACtD,CACEK,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,YAAY,CAAK,CACtBM,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEP,YAAY,CAAC,CACzCN,QAAQ,CAACV,MAAM,CAACM,gBAAgB,CAAC,CAAEA,gBAAgB,CAAEU,YAAa,CAAC,CAAC,CACtE,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,KAAK,CAAC,QAAQ,CAAC,CACjB,CAAC,CAAC,SAVEL,QAAQ,sFAYlB,CAAC,EACH,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}