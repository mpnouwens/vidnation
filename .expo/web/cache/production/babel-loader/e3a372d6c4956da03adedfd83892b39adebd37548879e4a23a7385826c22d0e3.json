{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty2 from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty2(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import*as React from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{NavigationHelpersContext,useTheme}from'@react-navigation/native';import{ScreenContainer}from'react-native-screens';import SafeAreaProviderCompat from\"./SafeAreaProviderCompat\";import ResourceSavingScene from\"./ResourceSavingScene\";import BottomTabBar from\"./BottomTabBar\";function SceneContent(_ref){var isFocused=_ref.isFocused,children=_ref.children;var _useTheme=useTheme(),colors=_useTheme.colors;return React.createElement(View,{accessibilityElementsHidden:!isFocused,importantForAccessibility:isFocused?'auto':'no-hide-descendants',style:[styles.content,{backgroundColor:colors.background}]},children);}var BottomTabView=function(_React$Component){_inherits(BottomTabView,_React$Component);var _super=_createSuper(BottomTabView);function BottomTabView(){var _this;_classCallCheck(this,BottomTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),\"state\",{loaded:[_this.props.state.index]});_defineProperty(_assertThisInitialized(_this),\"renderTabBar\",function(){var _this$props=_this.props,_this$props$tabBar=_this$props.tabBar,tabBar=_this$props$tabBar===void 0?function(props){return React.createElement(BottomTabBar,props);}:_this$props$tabBar,tabBarOptions=_this$props.tabBarOptions,state=_this$props.state,navigation=_this$props.navigation,descriptors=_this$props.descriptors;return tabBar(_objectSpread(_objectSpread({},tabBarOptions),{},{state:state,descriptors:descriptors,navigation:navigation}));});return _this;}_createClass(BottomTabView,[{key:\"render\",value:function render(){var _this$props2=this.props,state=_this$props2.state,descriptors=_this$props2.descriptors,navigation=_this$props2.navigation,lazy=_this$props2.lazy;var routes=state.routes;var loaded=this.state.loaded;return React.createElement(NavigationHelpersContext.Provider,{value:navigation},React.createElement(SafeAreaProviderCompat,null,React.createElement(View,{style:styles.container},React.createElement(ScreenContainer,{style:styles.pages},routes.map(function(route,index){var descriptor=descriptors[route.key];var unmountOnBlur=descriptor.options.unmountOnBlur;var isFocused=state.index===index;if(unmountOnBlur&&!isFocused){return null;}if(lazy&&!loaded.includes(index)&&!isFocused){return null;}return React.createElement(ResourceSavingScene,{key:route.key,style:StyleSheet.absoluteFill,isVisible:isFocused},React.createElement(SceneContent,{isFocused:isFocused},descriptor.render()));})),this.renderTabBar())));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){var index=nextProps.state.index;return{loaded:prevState.loaded.includes(index)?prevState.loaded:[].concat(_toConsumableArray(prevState.loaded),[index])};}}]);return BottomTabView;}(React.Component);export{BottomTabView as default};_defineProperty(BottomTabView,\"defaultProps\",{lazy:true});var styles=StyleSheet.create({container:{flex:1,overflow:'hidden'},pages:{flex:1},content:{flex:1}});","map":{"version":3,"mappings":"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","names":["React","NavigationHelpersContext","useTheme","ScreenContainer","SafeAreaProviderCompat","ResourceSavingScene","BottomTabBar","SceneContent","isFocused","children","colors","View","accessibilityElementsHidden","importantForAccessibility","style","styles","content","backgroundColor","background","BottomTabView","loaded","props","state","index","tabBar","tabBarOptions","navigation","descriptors","lazy","routes","Provider","value","container","pages","map","route","descriptor","key","unmountOnBlur","options","includes","StyleSheet","absoluteFill","isVisible","render","renderTabBar","nextProps","prevState","Component","create","flex","overflow"],"sources":["/Users/michaeladmin/Documents/GitHub/vidnation/node_modules/@react-navigation/bottom-tabs/lib/module/views/BottomTabView.tsx"],"sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nimport {\n  NavigationHelpersContext,\n  TabNavigationState,\n  useTheme,\n} from '@react-navigation/native';\nimport { ScreenContainer } from 'react-native-screens';\n\nimport SafeAreaProviderCompat from './SafeAreaProviderCompat';\nimport ResourceSavingScene from './ResourceSavingScene';\nimport BottomTabBar from './BottomTabBar';\nimport type {\n  BottomTabNavigationConfig,\n  BottomTabDescriptorMap,\n  BottomTabNavigationHelpers,\n  BottomTabBarProps,\n} from '../types';\n\ntype Props = BottomTabNavigationConfig & {\n  state: TabNavigationState;\n  navigation: BottomTabNavigationHelpers;\n  descriptors: BottomTabDescriptorMap;\n};\n\ntype State = {\n  loaded: number[];\n};\n\nfunction SceneContent({\n  isFocused,\n  children,\n}: {\n  isFocused: boolean;\n  children: React.ReactNode;\n}) {\n  const { colors } = useTheme();\n\n  return (\n    <View\n      accessibilityElementsHidden={!isFocused}\n      importantForAccessibility={isFocused ? 'auto' : 'no-hide-descendants'}\n      style={[styles.content, { backgroundColor: colors.background }]}\n    >\n      {children}\n    </View>\n  );\n}\n\nexport default class BottomTabView extends React.Component<Props, State> {\n  static defaultProps = {\n    lazy: true,\n  };\n\n  static getDerivedStateFromProps(nextProps: Props, prevState: State) {\n    const { index } = nextProps.state;\n\n    return {\n      // Set the current tab to be loaded if it was not loaded before\n      loaded: prevState.loaded.includes(index)\n        ? prevState.loaded\n        : [...prevState.loaded, index],\n    };\n  }\n\n  state = {\n    loaded: [this.props.state.index],\n  };\n\n  private renderTabBar = () => {\n    const {\n      tabBar = (props: BottomTabBarProps) => <BottomTabBar {...props} />,\n      tabBarOptions,\n      state,\n      navigation,\n      descriptors,\n    } = this.props;\n    return tabBar({\n      ...tabBarOptions,\n      state: state,\n      descriptors: descriptors,\n      navigation: navigation,\n    });\n  };\n\n  render() {\n    const { state, descriptors, navigation, lazy } = this.props;\n    const { routes } = state;\n    const { loaded } = this.state;\n\n    return (\n      <NavigationHelpersContext.Provider value={navigation}>\n        <SafeAreaProviderCompat>\n          <View style={styles.container}>\n            <ScreenContainer style={styles.pages}>\n              {routes.map((route, index) => {\n                const descriptor = descriptors[route.key];\n                const { unmountOnBlur } = descriptor.options;\n                const isFocused = state.index === index;\n\n                if (unmountOnBlur && !isFocused) {\n                  return null;\n                }\n\n                if (lazy && !loaded.includes(index) && !isFocused) {\n                  // Don't render a screen if we've never navigated to it\n                  return null;\n                }\n\n                return (\n                  <ResourceSavingScene\n                    key={route.key}\n                    style={StyleSheet.absoluteFill}\n                    isVisible={isFocused}\n                  >\n                    <SceneContent isFocused={isFocused}>\n                      {descriptor.render()}\n                    </SceneContent>\n                  </ResourceSavingScene>\n                );\n              })}\n            </ScreenContainer>\n            {this.renderTabBar()}\n          </View>\n        </SafeAreaProviderCompat>\n      </NavigationHelpersContext.Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n  pages: {\n    flex: 1,\n  },\n  content: {\n    flex: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}